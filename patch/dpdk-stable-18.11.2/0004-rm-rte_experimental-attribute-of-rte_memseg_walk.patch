From 5230e76681ade3da2f25a896887ce31fac5ff397 Mon Sep 17 00:00:00 2001
From: liuchuanqi <legend050709@qq.com>
Date: Fri, 7 Aug 2020 19:20:57 +0800
Subject: [PATCH 4/7] rm rte_experimental attribute of rte_memseg_walk

there is no __rte_experimental attribute in function rte_mempool_walk and rte_memzone_walk of dpdk 18.11,
and there is no __rte_experimental attribute in function rte_memseg_walk of the higher version's dpdk(eg: dpdk 20.05).
so remove it to prevent compilation error when dpdk application calls the function.
---
 lib/librte_eal/common/eal_common_memory.c  | 2 +-
 lib/librte_eal/common/include/rte_memory.h | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/lib/librte_eal/common/eal_common_memory.c b/lib/librte_eal/common/eal_common_memory.c
index e3ef371..ed442e7 100644
--- a/lib/librte_eal/common/eal_common_memory.c
+++ b/lib/librte_eal/common/eal_common_memory.c
@@ -606,7 +606,7 @@ unsigned rte_memory_get_nrank(void)
 	return ret;
 }
 
-int __rte_experimental
+int
 rte_memseg_walk_thread_unsafe(rte_memseg_walk_t func, void *arg)
 {
 	struct rte_mem_config *mcfg = rte_eal_get_configuration()->mem_config;
diff --git a/lib/librte_eal/common/include/rte_memory.h b/lib/librte_eal/common/include/rte_memory.h
index d970825..71bee8b 100644
--- a/lib/librte_eal/common/include/rte_memory.h
+++ b/lib/librte_eal/common/include/rte_memory.h
@@ -227,7 +227,7 @@ typedef int (*rte_memseg_list_walk_t)(const struct rte_memseg_list *msl,
  *   1 if stopped by the user
  *   -1 if user function reported error
  */
-int __rte_experimental
+int
 rte_memseg_walk(rte_memseg_walk_t func, void *arg);
 
 /**
-- 
1.8.3.1

